{"version":3,"sources":["api/blogs.ts","../node_modules/@material-ui/core/CardMedia/cardMediaClasses.js","../node_modules/@material-ui/core/CardMedia/CardMedia.js","../node_modules/@material-ui/core/CardActions/cardActionsClasses.js","../node_modules/@material-ui/core/CardActions/CardActions.js","../node_modules/@material-ui/icons/ArrowBack.js","content/pages/Home/BlogsDetail/index.tsx"],"names":["require","config","apiurl","process","getBlogs","a","axios","get","result","data","console","error","response","getBlogsDetail","id","saveComments","param","timestamp","moment","unix","headers","securitycode","sha256Generator","username","toString","post","res","getCardMediaUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardMediaRoot","styled","name","overridesResolver","props","styles","styleProps","isMediaComponent","isImageComponent","root","media","img","_extends","display","backgroundSize","backgroundRepeat","backgroundPosition","width","objectFit","MEDIA_COMPONENTS","IMAGE_COMPONENTS","CardMedia","React","inProps","ref","useThemeProps","children","className","component","image","src","style","other","_objectWithoutPropertiesLoose","indexOf","composedStyle","backgroundImage","classes","slots","composeClasses","useUtilityClasses","_jsx","clsx","as","undefined","getCardActionsUtilityClass","CardActionsRoot","disableSpacing","spacing","alignItems","padding","marginLeft","CardActions","_interopRequireDefault","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","BlogsDetail","useParams","useState","title","content","setData","comments","setComments","generateRandomNumber","Math","floor","random","useForm","defaultValues","register","handleSubmit","setValue","reset","errors","formState","onSubmit","status","results","length","useEffect","getData","sx","p","maxWidth","container","justifyContent","item","RouterLink","to","startIcon","alt","variant","dangerouslySetInnerHTML","__html","mt","noValidate","margin","type","required","message","helperText","multiline","rows","commentText","map","entry","i","bgcolor","primary","secondary","createdDate","format","ml"],"mappings":"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","file":"static/js/13.5d65ed63.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport { sha256Generator } from 'src/lib/encryptor'\r\nimport moment from 'moment'\r\n\r\nrequire('dotenv').config()\r\n\r\nconst apiurl = process.env.REACT_APP_API_URL\r\nconst apiKey = process.env.REACT_APP_API_KEY\r\n\r\nexport const getBlogs = async () => {\r\n    try{\r\n        const result = await axios.get(`${apiurl}/blogs`)\r\n\r\n        return result.data\r\n    }catch(errors){\r\n        console.error(errors)\r\n        return errors.response.data\r\n    }\r\n}\r\n\r\nexport const getBlogsDetail = async (id: string) => {\r\n    try{\r\n\r\n        const result = await axios.get(`${apiurl}/blogs/details/${id}`)\r\n\r\n        return result.data\r\n    }catch(errors){\r\n        console.error(errors)\r\n        return errors.response.data\r\n    }\r\n}\r\n\r\nexport const saveComments = async (param: any, id: string) => {\r\n    const timestamp = moment().unix()\r\n\r\n    const config = {\r\n        headers: {\r\n            securitycode: sha256Generator(apiKey+param.username+timestamp),\r\n            timestamp: timestamp.toString()\r\n        }\r\n    }\r\n\r\n    try{\r\n        const res = await axios.post(`${apiurl}/blogs/comments/${id}`, param, config)\r\n\r\n        return res.data\r\n    }catch(errors){\r\n        return errors.response.data\r\n    }\r\n}","import { generateUtilityClass, generateUtilityClasses } from '@material-ui/unstyled';\nexport function getCardMediaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardMedia', slot);\n}\nconst cardMediaClasses = generateUtilityClasses('MuiCardMedia', ['root', 'media', 'img']);\nexport default cardMediaClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"image\", \"src\", \"style\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport { unstable_composeClasses as composeClasses } from '@material-ui/unstyled';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCardMediaUtilityClass } from './cardMediaClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = styleProps => {\n  const {\n    classes,\n    isMediaComponent,\n    isImageComponent\n  } = styleProps;\n  const slots = {\n    root: ['root', isMediaComponent && 'media', isImageComponent && 'img']\n  };\n  return composeClasses(slots, getCardMediaUtilityClass, classes);\n};\n\nconst CardMediaRoot = styled('div', {\n  name: 'MuiCardMedia',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      styleProps\n    } = props;\n    const {\n      isMediaComponent,\n      isImageComponent\n    } = styleProps;\n    return [styles.root, isMediaComponent && styles.media, isImageComponent && styles.img];\n  }\n})(({\n  styleProps\n}) => _extends({\n  display: 'block',\n  backgroundSize: 'cover',\n  backgroundRepeat: 'no-repeat',\n  backgroundPosition: 'center'\n}, styleProps.isMediaComponent && {\n  width: '100%'\n}, styleProps.isImageComponent && {\n  // ⚠️ object-fit is not supported by IE11.\n  objectFit: 'cover'\n}));\nconst MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nconst IMAGE_COMPONENTS = ['picture', 'img'];\nconst CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardMedia'\n  });\n\n  const {\n    children,\n    className,\n    component = 'div',\n    image,\n    src,\n    style\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const isMediaComponent = MEDIA_COMPONENTS.indexOf(component) !== -1;\n  const composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: `url(\"${image}\")`\n  }, style) : style;\n\n  const styleProps = _extends({}, props, {\n    component,\n    isMediaComponent,\n    isImageComponent: IMAGE_COMPONENTS.indexOf(component) !== -1\n  });\n\n  const classes = useUtilityClasses(styleProps);\n  return /*#__PURE__*/_jsx(CardMediaRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    ref: ref,\n    style: composedStyle,\n    styleProps: styleProps,\n    src: isMediaComponent ? image || src : undefined\n  }, other, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardMedia.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    if (!props.children && !props.image && !props.src && !props.component) {\n      return new Error('Material-UI: Either `children`, `image`, `src` or `component` prop must be specified.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Image to be displayed as a background image.\n   * Either `image` or `src` prop must be specified.\n   * Note that caller must specify height otherwise the image will not be visible.\n   */\n  image: PropTypes.string,\n\n  /**\n   * An alias for `image` property.\n   * Available only with media components.\n   * Media components: `video`, `audio`, `picture`, `iframe`, `img`.\n   */\n  src: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object\n} : void 0;\nexport default CardMedia;","import { generateUtilityClass, generateUtilityClasses } from '@material-ui/unstyled';\nexport function getCardActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActions', slot);\n}\nconst cardActionsClasses = generateUtilityClasses('MuiCardActions', ['root', 'spacing']);\nexport default cardActionsClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"disableSpacing\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@material-ui/unstyled';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getCardActionsUtilityClass } from './cardActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = styleProps => {\n  const {\n    classes,\n    disableSpacing\n  } = styleProps;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getCardActionsUtilityClass, classes);\n};\n\nconst CardActionsRoot = styled('div', {\n  name: 'MuiCardActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      styleProps\n    } = props;\n    return [styles.root, !styleProps.disableSpacing && styles.spacing];\n  }\n})(({\n  styleProps\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8\n}, !styleProps.disableSpacing && {\n  '& > :not(:first-of-type)': {\n    marginLeft: 8\n  }\n}));\nconst CardActions = /*#__PURE__*/React.forwardRef(function CardActions(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActions'\n  });\n\n  const {\n    disableSpacing = false,\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const styleProps = _extends({}, props, {\n    disableSpacing\n  });\n\n  const classes = useUtilityClasses(styleProps);\n  return /*#__PURE__*/_jsx(CardActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    styleProps: styleProps,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActions.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object\n} : void 0;\nexport default CardActions;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n}), 'ArrowBack');\n\nexports.default = _default;","import { useEffect, useState } from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { useParams } from 'react-router'\r\nimport { NavLink as RouterLink } from 'react-router-dom'\r\n\r\nimport { Box, Container, Grid, Card, CardMedia, CardContent, CardActions, Typography, Divider } from '@material-ui/core'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\n\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\n\r\nimport moment from 'moment'\r\n\r\nimport { useForm, SubmitHandler } from 'react-hook-form'\r\nimport { getBlogsDetail, saveComments } from 'src/api/blogs'\r\n\r\ninterface Data{\r\n    title: string,\r\n    image: string,\r\n    content: string\r\n}\r\n\r\ntype Inputs = {\r\n    username: string,\r\n    commentText: string\r\n}\r\n\r\nconst BlogsDetail = () => {\r\n    const { id } = useParams()\r\n    const [data, setData] = useState<Data>({\r\n        title: '',\r\n        image: '',\r\n        content: ''\r\n    })\r\n    const [comments, setComments] = useState([])\r\n\r\n    const generateRandomNumber = () => Math.floor(1000 + Math.random() * 9000)\r\n\r\n    const { register, handleSubmit, setValue, reset, formState: { errors } } = useForm<Inputs>({\r\n        defaultValues: {\r\n            username: `Anonymous #${generateRandomNumber()}`\r\n        }\r\n    })\r\n\r\n    const onSubmit: SubmitHandler<Inputs> = async (data) => {\r\n        const result = await saveComments(data, id)\r\n\r\n        if(result.status === 'success'){\r\n            reset()\r\n            setComments(result.results)\r\n            setValue('username', `Anonymous #${generateRandomNumber()}`)\r\n        }\r\n    }\r\n\r\n    async function getData(){\r\n        const result = await getBlogsDetail(id)\r\n\r\n        if(result.results){\r\n            setData(result.results)\r\n        }\r\n\r\n        if(result.results.comments?.length){\r\n            setComments(result.results.comments)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getData()\r\n    }, [])\r\n\r\n    return(\r\n        <>\r\n        <Helmet>\r\n            <title>Blogs Detail | Blogs</title>\r\n        </Helmet>\r\n\r\n        <Container sx={{ p: 2 }} maxWidth=\"xl\">\r\n            <Card>\r\n                <Grid container\r\n                    justifyContent=\"space-between\"\r\n                    sx={{ p: 2 }}>\r\n                    <Grid item>\r\n                        <Button component={RouterLink} to=\"/blogs\" startIcon={<ArrowBackIcon />}>\r\n                            Back\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <CardMedia\r\n                    component=\"img\"\r\n                    image={data.image}\r\n                    alt=\"Paella dish\"\r\n                />\r\n\r\n                <CardContent>\r\n                    <Typography variant=\"h1\">\r\n                        {data.title}\r\n                    </Typography>\r\n                    <Divider />\r\n                    <div dangerouslySetInnerHTML={{ __html: data.content }} />\r\n                </CardContent>\r\n            </Card>\r\n            <Card sx={{ mt: 2 }}>\r\n                <Box\r\n                    component=\"form\"\r\n                    sx={{ \"& .MuiTextField-root\": { mt: 2, width: 1 } }}\r\n                    noValidate\r\n                    onSubmit={handleSubmit(onSubmit)}\r\n                    >\r\n                    <CardContent>\r\n                        <Typography variant=\"h1\">\r\n                            Comments\r\n                        </Typography>\r\n                        <Typography variant=\"body2\">\r\n                            Posts your comments for this article!\r\n                        </Typography>\r\n                                <TextField\r\n                                    margin=\"dense\"\r\n                                    type=\"text\"\r\n                                    {...register(\"username\", { required: { value: true, message: 'Please input your name!' } })}\r\n                                    helperText={(errors.username) ? errors.username.message : ''}\r\n                                />\r\n\r\n                                <TextField\r\n                                    margin='dense'\r\n                                    type='text'\r\n                                    {...register(\"commentText\", {\r\n                                        required: { value: true, message: 'Comments is required!' }\r\n                                    })}\r\n                                    multiline\r\n                                    rows={4}\r\n                                    helperText={(errors.commentText) ? errors.commentText.message : ''}\r\n                                />\r\n                    </CardContent>\r\n\r\n                    {(comments.length > 0) ?\r\n                        comments.map((entry, i) => (\r\n                            <List key={i} sx={{ width: '100%', bgcolor: 'background.paper' }}>\r\n                                <ListItem>\r\n                                    <ListItemText\r\n                                        primary={entry.username}\r\n                                        secondary={\r\n                                            <>\r\n                                                <Typography\r\n                                                    sx={{ display: 'inline' }}\r\n                                                    component=\"span\"\r\n                                                    variant=\"body2\"\r\n                                                >\r\n                                                    {entry.commentText}\r\n                                                </Typography>\r\n                                                <Divider />\r\n                                                <Typography\r\n                                                    sx={{ display: 'inline' }}\r\n                                                    variant=\"subtitle1\"\r\n                                                >\r\n                                                    {moment(entry.createdDate).format('YYYY-MM-DD')}\r\n                                                </Typography>\r\n                                            </>\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                            </List>\r\n                        )) : null\r\n                    }\r\n \r\n                    <CardActions>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"submit\"\r\n                            sx={{ml: 'auto' }}>\r\n                            Post Comment\r\n                        </Button>\r\n                    </CardActions>\r\n                </Box>\r\n            </Card>\r\n        </Container>\r\n    </>)\r\n}\r\n\r\nexport default BlogsDetail"],"sourceRoot":""}